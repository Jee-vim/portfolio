<script is:inline>
  function applyTheme() {
    const theme = localStorage.getItem('theme') || 
      (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
    
    document.documentElement.classList.toggle('light-mode', theme === 'light');
  }

  applyTheme();

  document.addEventListener('astro:after-swap', applyTheme);
</script>
